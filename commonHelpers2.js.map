{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = \"user-data\";\n\nconst formElem = document.querySelector(\".feedback-form\");\nformElem.addEventListener(\"input\", onFormInput);\nformElem.addEventListener(\"submit\", onFormSubmit);\ninit();\n\nfunction onFormInput() {\n    const email = formElem.elements.email.value;\n    const message = formElem.elements.message.value;\n    const data = {\n        email,\n        message,\n    };\n    saveToLS(STORAGE_KEY, data)\n}\nfunction saveToLS(key, value) {\n    const zip = JSON.stringify(value);\n    localStorage.setItem(key, zip);\n}\nfunction loadFromLS(key) {\n    const zip = localStorage.getItem(key);\n    try {\n        return JSON.parse(zip);\n    } catch {\n        return zip;\n    } \n}\nfunction init() {\n    const data = loadFromLS(STORAGE_KEY) || {};\n    formElem.elements.email.value = data.email || \"\";\n    formElem.elements.message.value = data.message || \"\";\n}\nfunction onFormSubmit(event) {\n    event.preventDefault();\n    const email = formElem.elements.email.value;\n    const message = formElem.elements.message.value;\n    const data = {\n        email,\n        message,\n    };\n    formElem.reset();\n    localStorage.removeItem(STORAGE_KEY);\n    console.log(data);\n}"],"names":["STORAGE_KEY","formElem","onFormInput","onFormSubmit","init","email","message","saveToLS","key","value","zip","loadFromLS","data","event"],"mappings":"wFAAA,MAAMA,EAAc,YAEdC,EAAW,SAAS,cAAc,gBAAgB,EACxDA,EAAS,iBAAiB,QAASC,CAAW,EAC9CD,EAAS,iBAAiB,SAAUE,CAAY,EAChDC,IAEA,SAASF,GAAc,CACnB,MAAMG,EAAQJ,EAAS,SAAS,MAAM,MAChCK,EAAUL,EAAS,SAAS,QAAQ,MAK1CM,EAASP,EAJI,CACT,MAAAK,EACA,QAAAC,CACR,CAC8B,CAC9B,CACA,SAASC,EAASC,EAAKC,EAAO,CAC1B,MAAMC,EAAM,KAAK,UAAUD,CAAK,EAChC,aAAa,QAAQD,EAAKE,CAAG,CACjC,CACA,SAASC,EAAWH,EAAK,CACrB,MAAME,EAAM,aAAa,QAAQF,CAAG,EACpC,GAAI,CACA,OAAO,KAAK,MAAME,CAAG,CAC7B,MAAY,CACJ,OAAOA,CACV,CACL,CACA,SAASN,GAAO,CACZ,MAAMQ,EAAOD,EAAWX,CAAW,GAAK,CAAA,EACxCC,EAAS,SAAS,MAAM,MAAQW,EAAK,OAAS,GAC9CX,EAAS,SAAS,QAAQ,MAAQW,EAAK,SAAW,EACtD,CACA,SAAST,EAAaU,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMR,EAAQJ,EAAS,SAAS,MAAM,MAChCK,EAAUL,EAAS,SAAS,QAAQ,MACpCW,EAAO,CACT,MAAAP,EACA,QAAAC,CACR,EACIL,EAAS,MAAK,EACd,aAAa,WAAWD,CAAW,EACnC,QAAQ,IAAIY,CAAI,CACpB"}